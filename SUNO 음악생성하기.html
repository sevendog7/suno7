<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SUNO AI 음악 생성하기 [byST]</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom scrollbar for a better look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #2d3748;
        }
        ::-webkit-scrollbar-thumb {
            background: #4a5568;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #718096;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Styles for pill buttons */
        .pill-button {
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            background-color: #4a5568; /* bg-gray-700 */
            color: #e2e8f0; /* text-gray-300 */
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            font-size: 0.875rem;
            line-height: 1.25rem;
            font-weight: 500;
            border: 1px solid transparent;
            white-space: nowrap;
        }
        .pill-button:hover {
            background-color: #718096; /* bg-gray-600 */
        }
        .pill-button.active {
            background-color: #06b6d4; /* bg-cyan-600 */
            color: white;
            border-color: #0891b2; /* border-cyan-500 */
            box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.5);
        }
    </style>
</head>
<body class="bg-gray-900 text-white p-4 sm:p-6 md:p-8">

    <div class="max-w-3xl mx-auto">

        <!-- Header: Title and Links -->
        <header class="flex justify-between items-center mb-6">
            <h1 class="text-2xl sm:text-3xl font-bold text-cyan-400">SUNO AI 음악 생성하기 [byST]</h1>
            <div class="flex space-x-2">
                <a href="https://suno.com" target="_blank" class="bg-gray-700 hover:bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 text-sm">SUNO</a>
                <a href="https://chatgpt.com/g/g-30wcnTyhL-suno-ai-v4-music-song-lyrics-generator?model=gpt-4o" target="_blank" class="bg-gray-700 hover:bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 text-sm">가사 생성기</a>
            </div>
        </header>

        <!-- Usage Guide -->
        <div class="bg-gray-800 p-4 rounded-lg mb-8 border border-gray-700">
            <h2 class="text-xl font-semibold mb-3 text-cyan-300"># 사용법 (SUNO 음악생성 순서)</h2>
            <ol class="list-decimal list-inside space-y-2 text-gray-300 text-sm sm:text-base">
                <li>
                    <strong>SUNO 접속:</strong>
                    <ul class="list-disc list-inside ml-4 mt-1 text-gray-400">
                        <li>우측 상단의 "SUNO" 링크 클릭 후 로그인 (구글 로그인 권장)</li>
                        <li>SUNO 상단의 'Create' 탭 선택</li>
                    </ul>
                </li>
                <li>
                    <strong>노래 가사 생성:</strong>
                    <ul class="list-disc list-inside ml-4 mt-1 text-gray-400">
                        <li>우측 상단의 "가사 생성기" 링크 클릭</li>
                        <li>GPT에서 생성할 노래의 주제 입력 (자동 가사 생성)</li>
                        <li>생성된 가사 복사 후 SUNO 'Lyrics'에 붙여넣기</li>
                    </ul>
                </li>
                <li>
                    <strong>노래 스타일 지정 (아래 생성기 사용):</strong>
                     <ul class="list-disc list-inside ml-4 mt-1 text-gray-400">
                        <li>장르 - 감정/분위기 - 목소리 - BPM - 노래 구성 – 강조 스타일 선택</li>
                        <li>'스타일 프롬프트 생성' 클릭</li>
                        <li>생성된 style 복사 후 SUNO 'Style of Music'에 붙여넣기</li>
                    </ul>
                </li>
                 <li>
                    <strong>노래 제목 입력 및 생성:</strong>
                     <ul class="list-disc list-inside ml-4 mt-1 text-gray-400">
                        <li>SUNO 'Title'에 원하는 제목 입력 후 'Create' 클릭</li>
                        <li>오른쪽 또는 왼쪽 'Library'에서 생성 완료 확인 (mp3 다운로드 가능)</li>
                    </ul>
                </li>
            </ol>
        </div>

        <!-- Style Prompt Generator -->
        <div class="space-y-6 bg-gray-800 p-4 sm:p-6 rounded-lg border border-gray-700">
            
            <!-- 1. Genre -->
            <div>
                <label class="block mb-3 text-lg font-medium text-cyan-300">1. 장르</label>
                <div id="genre-pills" class="flex flex-wrap gap-2"></div>
            </div>

            <!-- 2. Mood/Atmosphere -->
            <div>
                <label class="block mb-3 text-lg font-medium text-cyan-300">2. 감정/분위기 (최대 2개 선택)</label>
                <div id="mood-pills" class="flex flex-wrap gap-2"></div>
            </div>

            <!-- 3. Voice -->
            <div>
                <label class="block mb-3 text-lg font-medium text-cyan-300">3. 목소리</label>
                <div id="voice-pills" class="flex flex-wrap gap-2"></div>
            </div>
            
            <!-- 4. BPM (Speed) -->
            <div>
                <label class="block mb-2 text-lg font-medium text-cyan-300">4. BPM (속도)</label>
                <div class="text-xs text-gray-400 mb-3 space-y-1 px-1">
                    <p><strong>66~76 BPM :</strong> 서정적이고 차분한 발라드</p>
                    <p><strong>76~108 BPM :</strong> 산책 템포, 발라드~팝 발라드 구간</p>
                    <p><strong>108~120 BPM :</strong> 팝, 가요 기본템포, 라이트한 댄스곡</p>
                    <p><strong>120~168 BPM :</strong> 댄스곡, 락, 신나는 곡</p>
                    <p><strong>168~176 BPM :</strong> EDM, 하드코어 테크노 느낌</p>
                </div>
                <div id="bpm-pills" class="flex flex-wrap gap-2"></div>
            </div>

            <!-- 5. Song Structure -->
            <div>
                <label class="block mb-3 text-lg font-medium text-cyan-300">5. 노래 구성</label>
                <div id="structure-pills" class="flex flex-wrap gap-2"></div>
            </div>

            <!-- 6. Emphasis Style -->
            <div>
                <label class="block mb-3 text-lg font-medium text-cyan-300">6. 강조 스타일</label>
                <div id="emphasis-pills" class="flex flex-wrap gap-2 items-center">
                    <!-- Pills will be generated here by JS -->
                    <input type="text" id="customEmphasis" placeholder="직접 입력..." class="bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-cyan-500 focus:border-cyan-500 p-2.5 flex-grow min-w-[150px]">
                </div>
            </div>

            <!-- Generate and Copy Buttons -->
            <div class="flex flex-col sm:flex-row gap-4 pt-4">
                <button id="generateBtn" class="w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-300">
                    프롬프트 생성하기
                </button>
                <button id="copyBtn" class="w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-300">
                    프롬프트 복사
                </button>
            </div>

            <!-- Result Display -->
            <div id="result" class="mt-4 p-4 bg-gray-900 rounded-lg min-h-[100px] border border-gray-700 text-gray-300 whitespace-pre-wrap fade-in" style="display: none;"></div>
        </div>
        
        <!-- Temporary textarea for copy functionality -->
        <textarea id="tempTextarea" style="position: absolute; left: -9999px;"></textarea>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DATA FOR PILL BUTTONS ---
            const options = {
                genre: ['Pop', 'K-Pop', 'Ballad', 'IndiePop', 'Lo-fi', 'Synth-pop', 'Trot', 'Rock', 'Classical', 'Jazz', 'Folk', 'Country', 'EDM', 'Techno', 'HeavyMetal', 'FlimScore', 'Punk', 'WavePop', 'Electronic', 'ElectronicRock', 'Electropop', 'Cyberpunk', 'DancePop', 'Disco', 'HipHop', 'Opera', 'SymphonicMetal', 'BigBand', 'FusionBlues', 'SoulJazz', 'CelticMusic', 'Mambo', 'Samba', 'Salsa', 'StringQuartet', 'OperaMusical', 'LightOpera', 'OperaPop'],
                mood: ['Joy', 'Sadness', 'Anger', 'Fear', 'Surprise', 'Anticipation', 'Calmness', 'Romantic', 'Nostalgia', 'Mystery', 'Triumph', 'Despair', 'Soulful and Lively Atmosphere', 'sademotional', 'soulful', 'sophisticated', 'sharp', 'crisp', 'Spunky', 'seductive', 'mysterious', 'relaxed', 'laid-back', 'high tension', 'tender', 'melodic', 'danceable fast tempo', 'Melancholy', 'ear candy', 'future', 'syncopation', 'catchy', 'depressive', 'night-loving scene'],
                voice: ['Male Voice', 'Female Voice', 'Soprano', 'Soubrette', 'Mezzo-Soprano', 'Alto', 'Profondo', 'Tenor', 'Baritone', 'Bass', 'Gospel', 'Female emotion voice', 'robotic vocals', 'gentle voice', 'Male singer', 'Childrens Spoken Word', 'Whistle Register', 'Shibuya-kel', 'emotional depth vocal'],
                bpm: ['66~76 BPM', '76~108 BPM', '108~120 BPM', '120~168 BPM', '168~176 BPM'],
                structure: ['Intro → Verse → Chorus → Outro', 'Verse → Chorus 반복', 'Verse → Bridge → Chorus', 'Intro → Chorus만 반복', '자유로운 전체 곡 구성'],
                emphasis: ['후크송(중독적인 후렴구 반복)', '잔잔한 오케스트라로 시작해서 후렴에서 빵 터지게', '브릿지는 분위기 전환용으로 감성 폭발', '멜로디는 미니멀하게 하고 리듬에 포커스', '보컬은 오토튠 살짝 자연스럽게 감정살리기', '808드럼과 베이스를 강하게 배경에 깔기']
            };

            // --- FUNCTION TO CREATE AND MANAGE PILL BUTTONS ---
            function setupPillButtons(containerId, items, config = {}) {
                const { isMultiSelect = false, maxSelections = 1, defaultSelected = 0 } = config;
                const container = document.getElementById(containerId);
                if (!container) return;

                // Create pill buttons from the items array
                items.forEach((item, index) => {
                    const button = document.createElement('button');
                    button.type = 'button';
                    button.className = 'pill-button';
                    button.textContent = item;
                    button.dataset.value = item;
                    // Insert before the last element if it's the emphasis container (which is the input field)
                    if (containerId === 'emphasis-pills') {
                        container.insertBefore(button, container.lastElementChild);
                    } else {
                        container.appendChild(button);
                    }
                    
                    // Set default selection
                    if (!isMultiSelect && index === defaultSelected) {
                        button.classList.add('active');
                    }
                });

                // Add click event listener to the container (event delegation)
                container.addEventListener('click', (e) => {
                    if (!e.target.classList.contains('pill-button')) return;

                    const clickedButton = e.target;
                    const isActive = clickedButton.classList.contains('active');
                    const activeButtons = container.querySelectorAll('.pill-button.active');

                    if (isMultiSelect) {
                        if (isActive) {
                            clickedButton.classList.remove('active');
                        } else if (activeButtons.length < maxSelections) {
                            clickedButton.classList.add('active');
                        }
                    } else {
                        // For single select, deactivate all and activate the clicked one
                        activeButtons.forEach(btn => btn.classList.remove('active'));
                        clickedButton.classList.add('active');
                    }
                });
            }
            
            // --- INITIALIZE ALL PILL BUTTON GROUPS ---
            setupPillButtons('genre-pills', options.genre, { defaultSelected: 0 });
            setupPillButtons('mood-pills', options.mood, { isMultiSelect: true, maxSelections: 2 });
            setupPillButtons('voice-pills', options.voice, { defaultSelected: 0 });
            setupPillButtons('bpm-pills', options.bpm, { defaultSelected: 1 });
            setupPillButtons('structure-pills', options.structure, { defaultSelected: 0 });
            setupPillButtons('emphasis-pills', options.emphasis, { defaultSelected: 0 });

            // --- SPECIAL HANDLING FOR EMPHASIS INPUT ---
            const emphasisContainer = document.getElementById('emphasis-pills');
            const customEmphasisInput = document.getElementById('customEmphasis');

            // When a pill in the emphasis section is clicked, clear the input
            emphasisContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('pill-button')) {
                    customEmphasisInput.value = '';
                }
            });

            // When typing in the input, deselect any active emphasis pill
            customEmphasisInput.addEventListener('input', () => {
                const activeButtons = emphasisContainer.querySelectorAll('.pill-button.active');
                activeButtons.forEach(btn => btn.classList.remove('active'));
            });

            // --- DOM ELEMENTS FOR ACTIONS ---
            const generateBtn = document.getElementById('generateBtn');
            const copyBtn = document.getElementById('copyBtn');
            const resultDiv = document.getElementById('result');
            const tempTextarea = document.getElementById('tempTextarea');

            // --- GENERATE PROMPT BUTTON LOGIC ---
            generateBtn.addEventListener('click', () => {
                // Helper to get selected value(s) from a pill container
                const getSelectedValue = (containerId, isMulti = false) => {
                    const container = document.getElementById(containerId);
                    const activeButtons = container.querySelectorAll('.pill-button.active');
                    if (!activeButtons.length) return isMulti ? [] : null;
                    
                    const values = Array.from(activeButtons).map(btn => btn.dataset.value);
                    return isMulti ? values : values[0];
                };

                // Get all selected values
                const genre = getSelectedValue('genre-pills');
                const selectedMoods = getSelectedValue('mood-pills', true);
                const voice = getSelectedValue('voice-pills');
                const bpm = getSelectedValue('bpm-pills');
                const structure = getSelectedValue('structure-pills');
                
                // Special handling for emphasis to include the text input
                let emphasis = getSelectedValue('emphasis-pills');
                if (!emphasis) { // If no pill is selected, check the input field
                    const customValue = customEmphasisInput.value.trim();
                    emphasis = customValue ? customValue : 'nothing'; // Default to 'nothing' if both are empty
                }

                // If no mood is selected, don't add the mood part to the prompt.
                const moodString = selectedMoods && selectedMoods.length > 0 
                    ? ` with a ${selectedMoods.join(' and ')} mood,` 
                    : ',';

                // Create the prompt string
                const prompt = `${genre}${moodString} featuring a ${voice}. The song should have a structure of ${structure}, focusing on ${emphasis}, with a tempo of ${bpm}.`;

                // Display the prompt in the result area
                resultDiv.textContent = prompt;
                resultDiv.style.display = 'block';
            });

            // --- COPY PROMPT BUTTON LOGIC ---
            copyBtn.addEventListener('click', () => {
                const textToCopy = resultDiv.textContent;
                if (!textToCopy) {
                    copyBtn.textContent = '생성된 프롬프트 없음';
                    setTimeout(() => {
                        copyBtn.textContent = '프롬프트 복사';
                    }, 2000);
                    return;
                }

                // Use execCommand for clipboard copy
                tempTextarea.value = textToCopy;
                tempTextarea.select();
                try {
                    document.execCommand('copy');
                    copyBtn.textContent = '복사 완료!';
                    copyBtn.classList.add('bg-green-600');
                    copyBtn.classList.remove('bg-gray-600');
                } catch (err) {
                    console.error('Failed to copy to clipboard:', err);
                    copyBtn.textContent = '복사 실패';
                    copyBtn.classList.add('bg-red-600');
                    copyBtn.classList.remove('bg-gray-600');
                }

                // Restore button text and style after 2 seconds
                setTimeout(() => {
                    copyBtn.textContent = '프롬프트 복사';
                    copyBtn.classList.remove('bg-green-600', 'bg-red-600');
                    copyBtn.classList.add('bg-gray-600');
                }, 2000);
            });
        });
    </script>
</body>
</html>
